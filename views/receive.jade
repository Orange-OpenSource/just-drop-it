//
 just-drop-it
 Copyright (C) 2016 Orange
 Authors: Benjamin Einaudi  benjamin.einaudi@orange.com
          Arnaud Ruffin arnaud.ruffin@orange.com

 This file is part of just-drop-it.

 just-drop-it is free software; you can redistribute it and/or
 modify it under the terms of the GNU General Public License
 as published by the Free Software Foundation; either version 2
 of the License, or (at your option) any later version.

 This program is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 GNU General Public License for more details.

 You should have received a copy of the GNU General Public License
 along with just-drop-it.  If not, see <http://www.gnu.org/licenses/>.

extends layout
block extra_scripts
    if isLocal
        script(src="/jquery.fileDownload.js")
        script(src="/js/jdropit-receive.js")
    else
        script(src="/jquery.fileDownload.js")
        script(src="/js/jdropit-receive.min.js")
    script.
        var receiverHandler;
        window.onload = function(){
            receiverHandler = new ReceiverHandler(#{isLocal}, "#{senderId}","#{fileName}",#{fileSize});
            enableNotifications();
        }
block content
    div.row
        div.col-xs-12
            h3 Hello
            p Someone just dropped you a file
    div.row#transferContainer
        div.col-xs-12
            div.progress
                div#transferProgressBar(class="progress-bar  progress-bar-striped active" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="min-width: 2em;") 0%
            p File:
                span#filename

    div.row#completeContainer(hidden="true")
        div.col-xs-12
            h3 Thank you!
            p Your friend knows you received the file. You can close this page now.
    div.row#errorContainer(hidden="true")
        div.col-xs-12
            h3 Error
            strong#errorMessage(class="text-danger")
