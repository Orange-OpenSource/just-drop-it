extends layout
block extra_scripts
    if isLocal
        <!--[if lte IE 10]>
        script(src="/js/Blob.js")
        <![endif]-->
        script(src="/js/socket.io.js")
        script(src="/js/socket.io-stream.js")
        script(src="/js/jdropit-notif.js")
        script(src="/js/jdropit-receive.js")
    else
        <!--[if lte IE 10]>
        script(src="/js/Blob.min.js")
        <![endif]-->
        script(src="/js/socket.io.min.js")
        script(src="/js/socket.io-stream.min.js")
        script(src="/js/jdropit-notif.min.js")
        script(src="/js/jdropit-receive.min.js")
    script.
        var receiverHandler;
        window.onload = function(){
            receiverHandler = new ReceiverHandler(#{isLocal}, "#{senderId}","#{receiverLabel}","#{fileName}",#{fileSize});
        }
block content
    div.row
        div.col-xs-12
            h3 Hello
            p Someone just dropped you a file
    div.row#transferContainer
        div.col-xs-12
            div.progress
                div#transferProgressBar(class="progress-bar  progress-bar-striped active" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="min-width: 2em;") 0%
            p File:
                span#filename

    div.row#completeContainer(hidden="true")
        div.col-xs-12
            h3 Thank you!
            p Your friend knows you received the file. You can close this page now.
    div.row#errorContainer(hidden="true")
        div.col-xs-12
            h3 Error
            strong#errorMessage(class="text-danger")
