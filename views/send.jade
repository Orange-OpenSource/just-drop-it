extends layout
block extra_scripts
    script(src="/socket.io/socket.io.js")
    script(src="/js/socket.io-stream.js")
    script(src="/js/ZeroClipboard.min.js")
    script(src="/js/jdropit-send.js")
    script.
        window.onload = function(){
            sendFile(#{isLocal});
        }
block content
    div(class="row" id="step0")
        div(class="col-xs-12")
            h3 Hello
    div(class="row" id="step1")
        div(class="col-xs-12")
            p Please drop a file below:
            div(class="upload-drop-zone" id="drop-zone") Just drag and drop a file here
            form(id="myform" class="form-inline" action="")
                div(class="form-group")
                    | Or select it in your file explorer:
                    label(for="file" class="hidden") select a file
                    input(type="file" id="file")
    div(class="row" id="step2" hidden="true")
        div(class="col-xs-12 jumbotron")
            h4 Ready to transfert!
            p(class="lead") Tell your friend to go to this url:
            div(class="text-muted" id="generatedurl")
            button(class="btn" id="copy-button" title="Click to copy url to clipboard") Copy to clipoard
            span(id="clipboardcopyok" class="glyphicon glyphicon-check" aria-hidden="true" )
    div(class="row" id="step3" hidden="true")
        div(class="col-xs-12 ")
            p(id="transfertMessage") The transfert will start as soon as you friend open the link.
            div(class="progress")
                div(id="transfertpb" class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="min-width: 2em;") 0%

            p File:
                span(class="filename")

    div(class="row" id="step4-outro" hidden="true")
        div(class="col-xs-12")
            h3 Thank you!
            p Your friend did receive the file. You can close this page now.

